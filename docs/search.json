[
  {
    "objectID": "finalprojcode.html",
    "href": "finalprojcode.html",
    "title": "Final Project - Code",
    "section": "",
    "text": "library(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(leaflet)\nlibrary(usmap)\nlibrary(sf)\nlibrary(readr)\nlibrary(scales)\nlibrary(tidyr)\nlibrary(lubridate)\n\n# Read in the raw data for Warnings and Citations\nwarnings = read_csv(\"2023_warning_data.csv\", \n                         col_types = cols(Warnings_Date = col_date(format = \"%m/%d/%Y\"), \n                                          WEB_ADDRESS = col_skip(), PHONE_NUMBER = col_skip(), \n                                          NAME = col_skip()))\n\ncitations = read_csv(\"2023_citation_data.csv\", \n                                col_types = cols(Date = col_date(format = \"%m/%d/%Y\"), \n                                                 WEB_ADDRESS = col_skip(), PHONE_NUMBER = col_skip(), \n                                                 NAME = col_skip()))\n\n# Rename some columns\ncitations = citations %&gt;%\n  rename(ViolationDate = Date)\n\n# change Gender to sex in warnings and change date column name\nwarnings = warnings %&gt;%\n  rename(Sex = Gender)\n\nwarnings = warnings %&gt;%\n  rename(ViolationDate = Warnings_Date)\n\n# Adjust Citations and prepare for Merge\n# Assumption that ID is the officer's ID\ncitations_processed = citations %&gt;%\n  mutate(\n    outcome = \"Citation\",\n    Gender = case_when(\n      Sex == \"M\" ~ \"Male\",\n      Sex == \"F\" ~ \"Female\",\n      TRUE ~ \"Other/Unknown\"\n    ),\n    Year = year(ViolationDate),\n    Month = month(ViolationDate),\n    DayOfMonth = day(ViolationDate),\n    Time = parse_date_time(Time, \"HM\"),\n    data_type = \"Citation\"\n  ) %&gt;%\n  select(\n    outcome, Gender, Year, Month, DayOfMonth, Time, Offense_Description = Charge,\n    District = DISTRICT, Race, Ethnicity, Latitude, Longitude, OfficerID = ID, data_type\n  )\n\n# Adjust Warnings and prepare for Merge\nwarnings_processed = warnings %&gt;%\n  mutate(\n    outcome = \"Warning\",\n    Gender = case_when(\n      Sex == \"M\" ~ \"Male\",\n      Sex == \"F\" ~ \"Female\",\n      TRUE ~ \"Other/Unknown\"\n    ),\n    Year = year(ViolationDate),\n    Month = month(ViolationDate),\n    DayOfMonth = day(ViolationDate),\n    Time = parse_date_time(Time, \"HM\"),\n    data_type = \"Warning\"\n  ) %&gt;%\n  select(\n    outcome, Gender, Year, Month, DayOfMonth, Time, Offense_Description, District = DISTRICT, Race, \n    Ethnicity, Latitude = Lat, Longitude = Long, OfficerID = Officer_ID, data_type\n  )\n\n# Combined for ultimate Data coordination!\ncombined_wc = bind_rows(citations_processed, warnings_processed)\n\n# Add ultimate binary outcome! 0 = Citation, 1 = Warning/ Got out of ticket\ncombined_wc = combined_wc %&gt;%\n  mutate(\n    BinaryOutcome = ifelse(outcome == \"Warning\", 1,0)\n  )\n\n## Change to Title Case for District Names\ncombined_wc$District = tools::toTitleCase(tolower(combined_wc$District))\n\n## Examining Unverified data\n## After examination, unverified only makes up 0.0143 or 1.43% of the data set, so we will remove\n## because it is a very small portion of the total proportion. \n# combined_wc %&gt;%\n#  count(District) %&gt;%\n#  mutate(Proportion = n / sum(n)) %&gt;%\n#  arrange(desc(n))\n\n## Filter out Unverified and NA\ncombined_wc = combined_wc %&gt;%\n  filter(District != \"Unverified\")\n\ncombined_wc = combined_wc %&gt;%\n  filter(!is.na(District))\n\n## Filter out Other/Unknown Gender\ncombined_wc_mf = combined_wc %&gt;%\n  filter(Gender != \"Other/Unknown\")\n\n\n## Stacked Bar chart for Outcome and Gender\nggplot(combined_wc_mf, aes(x = outcome, fill = Gender)) +\n  geom_bar() +\n  labs(\n    title = \"Count of Outcomes by Gender\",\n    x = \"Outcome Type\",\n    y = \"# of Incident\",\n    fill = \"Gender\"\n  ) + theme_gray() + theme(plot.title = element_text(hjust = 0.5)) + \n  scale_fill_manual(values = c(\"Female\" = \"lightpink2\", \"Male\" = \"lightsteelblue\"))\n\n\n\n\n\n\n\n\n\n## Now for some visuals: Gender Chart\n## Examining the proportion of stops resulting in a Warning Vs Citation\n## the Warning rate is the proportion of incidents that are warnings.\ngender_warning_rate = combined_wc_mf %&gt;%\n  group_by(Gender) %&gt;%\n  summarise(\n    Total_Incidents = n(),\n    Warning_Rate = mean(BinaryOutcome)\n  ) %&gt;%\n  ungroup()\n\ngender_chart = ggplot(gender_warning_rate,\n                      aes(x = Gender, y = Warning_Rate, fill = Gender)) +\n  geom_col(show.legend = FALSE) +\n  geom_text(aes(label = scales::percent(Warning_Rate, accuracy = 0.1)),\n            vjust = -0.5, size = 5) +\n  scale_y_continuous(labels = scales::percent, limits = c(0, max(gender_warning_rate$Warning_Rate) * 1.1)) +\n  labs(\n    title = \"Warning Rate by Gender\",\n    subtitle = \"Proportion of stops resulting in a Warning (vs Citation)\",\n    x = \"Gender\",\n    y = \"Warning Rate\"\n  ) + theme_gray() + theme(plot.title = element_text(hjust = 0.5)) + theme(plot.subtitle = element_text(hjust = 0.5)) +\n  scale_fill_manual(values = c(\"Female\" = \"lightpink2\", \"Male\" = \"lightsteelblue\"))\n\ngender_chart\n\n\n\n\n\n\n\n\n\n## Now the Chi-Squared Test starting with the Contingency Table\ncontingency_tbl = combined_wc_mf %&gt;%\n  filter(Gender %in% c(\"Male\", \"Female\")) %&gt;%\n  select(Gender, BinaryOutcome) %&gt;%\n  table()\n\nchi_sq_results = chisq.test(contingency_tbl)\n\nexpected_counts = chi_sq_results$expected\n\n\n# Heatmap\nlibrary(pheatmap)\n# observed count\nobserved_counts = chi_sq_results$observed\n# Calculated expected above.\n# Calculate residuals\npearson_residuals = chi_sq_results$residuals\n\n# Calculate contributions to chi-square statistic\ncontributions = (observed_counts - expected_counts)^2 / expected_counts\n\ntotal_chi_square = chi_sq_results$statistic\n\npercentage_contributions = 100 * contributions / total_chi_square\ncolnames(percentage_contributions) = c(\"Citation\", \"Warning\")\npheatmap(percentage_contributions,\n         display_numbers = TRUE,\n         cluster_rows = FALSE,\n         cluster_cols = FALSE,\n         main = \"Percentage Contribution to Chi-Square Statistic\",\n         fontsize = 11,\n         fontsize_row = 11,\n         fontsize_col = 11,\n         fontsize_number = 15\n         )"
  },
  {
    "objectID": "finalprojcode.html#question-1",
    "href": "finalprojcode.html#question-1",
    "title": "Final Project - Code",
    "section": "",
    "text": "library(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(leaflet)\nlibrary(usmap)\nlibrary(sf)\nlibrary(readr)\nlibrary(scales)\nlibrary(tidyr)\nlibrary(lubridate)\n\n# Read in the raw data for Warnings and Citations\nwarnings = read_csv(\"2023_warning_data.csv\", \n                         col_types = cols(Warnings_Date = col_date(format = \"%m/%d/%Y\"), \n                                          WEB_ADDRESS = col_skip(), PHONE_NUMBER = col_skip(), \n                                          NAME = col_skip()))\n\ncitations = read_csv(\"2023_citation_data.csv\", \n                                col_types = cols(Date = col_date(format = \"%m/%d/%Y\"), \n                                                 WEB_ADDRESS = col_skip(), PHONE_NUMBER = col_skip(), \n                                                 NAME = col_skip()))\n\n# Rename some columns\ncitations = citations %&gt;%\n  rename(ViolationDate = Date)\n\n# change Gender to sex in warnings and change date column name\nwarnings = warnings %&gt;%\n  rename(Sex = Gender)\n\nwarnings = warnings %&gt;%\n  rename(ViolationDate = Warnings_Date)\n\n# Adjust Citations and prepare for Merge\n# Assumption that ID is the officer's ID\ncitations_processed = citations %&gt;%\n  mutate(\n    outcome = \"Citation\",\n    Gender = case_when(\n      Sex == \"M\" ~ \"Male\",\n      Sex == \"F\" ~ \"Female\",\n      TRUE ~ \"Other/Unknown\"\n    ),\n    Year = year(ViolationDate),\n    Month = month(ViolationDate),\n    DayOfMonth = day(ViolationDate),\n    Time = parse_date_time(Time, \"HM\"),\n    data_type = \"Citation\"\n  ) %&gt;%\n  select(\n    outcome, Gender, Year, Month, DayOfMonth, Time, Offense_Description = Charge,\n    District = DISTRICT, Race, Ethnicity, Latitude, Longitude, OfficerID = ID, data_type\n  )\n\n# Adjust Warnings and prepare for Merge\nwarnings_processed = warnings %&gt;%\n  mutate(\n    outcome = \"Warning\",\n    Gender = case_when(\n      Sex == \"M\" ~ \"Male\",\n      Sex == \"F\" ~ \"Female\",\n      TRUE ~ \"Other/Unknown\"\n    ),\n    Year = year(ViolationDate),\n    Month = month(ViolationDate),\n    DayOfMonth = day(ViolationDate),\n    Time = parse_date_time(Time, \"HM\"),\n    data_type = \"Warning\"\n  ) %&gt;%\n  select(\n    outcome, Gender, Year, Month, DayOfMonth, Time, Offense_Description, District = DISTRICT, Race, \n    Ethnicity, Latitude = Lat, Longitude = Long, OfficerID = Officer_ID, data_type\n  )\n\n# Combined for ultimate Data coordination!\ncombined_wc = bind_rows(citations_processed, warnings_processed)\n\n# Add ultimate binary outcome! 0 = Citation, 1 = Warning/ Got out of ticket\ncombined_wc = combined_wc %&gt;%\n  mutate(\n    BinaryOutcome = ifelse(outcome == \"Warning\", 1,0)\n  )\n\n## Change to Title Case for District Names\ncombined_wc$District = tools::toTitleCase(tolower(combined_wc$District))\n\n## Examining Unverified data\n## After examination, unverified only makes up 0.0143 or 1.43% of the data set, so we will remove\n## because it is a very small portion of the total proportion. \n# combined_wc %&gt;%\n#  count(District) %&gt;%\n#  mutate(Proportion = n / sum(n)) %&gt;%\n#  arrange(desc(n))\n\n## Filter out Unverified and NA\ncombined_wc = combined_wc %&gt;%\n  filter(District != \"Unverified\")\n\ncombined_wc = combined_wc %&gt;%\n  filter(!is.na(District))\n\n## Filter out Other/Unknown Gender\ncombined_wc_mf = combined_wc %&gt;%\n  filter(Gender != \"Other/Unknown\")\n\n\n## Stacked Bar chart for Outcome and Gender\nggplot(combined_wc_mf, aes(x = outcome, fill = Gender)) +\n  geom_bar() +\n  labs(\n    title = \"Count of Outcomes by Gender\",\n    x = \"Outcome Type\",\n    y = \"# of Incident\",\n    fill = \"Gender\"\n  ) + theme_gray() + theme(plot.title = element_text(hjust = 0.5)) + \n  scale_fill_manual(values = c(\"Female\" = \"lightpink2\", \"Male\" = \"lightsteelblue\"))\n\n\n\n\n\n\n\n\n\n## Now for some visuals: Gender Chart\n## Examining the proportion of stops resulting in a Warning Vs Citation\n## the Warning rate is the proportion of incidents that are warnings.\ngender_warning_rate = combined_wc_mf %&gt;%\n  group_by(Gender) %&gt;%\n  summarise(\n    Total_Incidents = n(),\n    Warning_Rate = mean(BinaryOutcome)\n  ) %&gt;%\n  ungroup()\n\ngender_chart = ggplot(gender_warning_rate,\n                      aes(x = Gender, y = Warning_Rate, fill = Gender)) +\n  geom_col(show.legend = FALSE) +\n  geom_text(aes(label = scales::percent(Warning_Rate, accuracy = 0.1)),\n            vjust = -0.5, size = 5) +\n  scale_y_continuous(labels = scales::percent, limits = c(0, max(gender_warning_rate$Warning_Rate) * 1.1)) +\n  labs(\n    title = \"Warning Rate by Gender\",\n    subtitle = \"Proportion of stops resulting in a Warning (vs Citation)\",\n    x = \"Gender\",\n    y = \"Warning Rate\"\n  ) + theme_gray() + theme(plot.title = element_text(hjust = 0.5)) + theme(plot.subtitle = element_text(hjust = 0.5)) +\n  scale_fill_manual(values = c(\"Female\" = \"lightpink2\", \"Male\" = \"lightsteelblue\"))\n\ngender_chart\n\n\n\n\n\n\n\n\n\n## Now the Chi-Squared Test starting with the Contingency Table\ncontingency_tbl = combined_wc_mf %&gt;%\n  filter(Gender %in% c(\"Male\", \"Female\")) %&gt;%\n  select(Gender, BinaryOutcome) %&gt;%\n  table()\n\nchi_sq_results = chisq.test(contingency_tbl)\n\nexpected_counts = chi_sq_results$expected\n\n\n# Heatmap\nlibrary(pheatmap)\n# observed count\nobserved_counts = chi_sq_results$observed\n# Calculated expected above.\n# Calculate residuals\npearson_residuals = chi_sq_results$residuals\n\n# Calculate contributions to chi-square statistic\ncontributions = (observed_counts - expected_counts)^2 / expected_counts\n\ntotal_chi_square = chi_sq_results$statistic\n\npercentage_contributions = 100 * contributions / total_chi_square\ncolnames(percentage_contributions) = c(\"Citation\", \"Warning\")\npheatmap(percentage_contributions,\n         display_numbers = TRUE,\n         cluster_rows = FALSE,\n         cluster_cols = FALSE,\n         main = \"Percentage Contribution to Chi-Square Statistic\",\n         fontsize = 11,\n         fontsize_row = 11,\n         fontsize_col = 11,\n         fontsize_number = 15\n         )"
  },
  {
    "objectID": "finalprojcode.html#question-2",
    "href": "finalprojcode.html#question-2",
    "title": "Final Project - Code",
    "section": "Question 2:",
    "text": "Question 2:\n…"
  },
  {
    "objectID": "finalprojcode.html#question-3",
    "href": "finalprojcode.html#question-3",
    "title": "Final Project - Code",
    "section": "Question 3:",
    "text": "Question 3:\n\ncombined_data &lt;- read.csv(\"combined_crime_data.csv\")\n\nlibrary(ggplot2)\n\nggplot(combined_data, aes(x = Outcome, fill = District)) +\n  geom_bar(position = \"fill\") + # change to \"fill\" for proportions\n  coord_flip() +\n  labs(\n    title = \"Enforcement Outcomes by District\",\n    x = \"Outcome\",\n    y = \"Count\",\n    fill = \"District\"\n  ) +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\n\n\ntable(combined_data$District, combined_data$Outcome)\n\n              \n               Arrest Citation Warning\n  BRADDOCK       1221     7647    2645\n  DRANESVILLE     881     5055    2088\n  FRANCONIA      6011     6534    3499\n  HUNTER MILL    2001     6244    2474\n  MASON          5833     5490    2678\n  MOUNT VERNON   3040     3662    2451\n  PROVIDENCE     9315     4772    1941\n  SPRINGFIELD    1176     9909    2672\n  SULLY          2300    14854    3758\n  Unverified      356     1127     154\n\n\n\nchisq.test(table(combined_data$District, combined_data$Outcome))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(combined_data$District, combined_data$Outcome)\nX-squared = 20692, df = 18, p-value &lt; 2.2e-16\n\n\n\nlibrary(dplyr)\nlibrary(tidyr)\n\ndemo_long &lt;- combined_data %&gt;%\n  pivot_longer(\n    cols = c(Gender, Race, Ethnicity),\n    names_to = \"variable\",\n    values_to = \"group\"\n  )\n\nggplot(demo_long, aes(x = Outcome, fill = group)) +\n  geom_bar(position = \"fill\") +\n  facet_wrap(~ variable, scales = \"free_x\") +\n  coord_flip() +\n  labs(\n    title = \"Enforcement Outcomes by Demographics\",\n    x = \"Outcome\",\n    y = \"Count\",\n    fill = \"Demographic Group\"\n  ) +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\n\n\nlibrary(nnet)\n\ncombined_data$Outcome  &lt;- factor(combined_data$Outcome)\ncombined_data$Race     &lt;- factor(combined_data$Race)\ncombined_data$Gender   &lt;- factor(combined_data$Gender)\ncombined_data$District &lt;- factor(combined_data$District)\ncombined_data$Ethnicity &lt;- factor(combined_data$Ethnicity)\n\nmodel &lt;- multinom(Outcome ~ Race + Gender + District + Ethnicity, data = combined_data)\n\n# weights:  69 (44 variable)\ninitial  value 133797.793412 \niter  10 value 110273.346261\niter  20 value 109828.994978\niter  30 value 108047.740898\niter  40 value 106985.637011\niter  50 value 106983.922418\nfinal  value 106983.911647 \nconverged\n\n\n\nsummary(model)\n\nCall:\nmultinom(formula = Outcome ~ Race + Gender + District + Ethnicity, \n    data = combined_data)\n\nCoefficients:\n         (Intercept)     RaceB    RaceI    RaceU      RaceW    GenderM\nCitation    6.446043 -1.270532 1.902943 2.020289 -0.1401901 -0.5121848\nWarning    -2.979146 -1.162020 1.981047 1.571784 -0.0923412 -0.6626383\n           GenderO  GenderU  GenderX DistrictDRANESVILLE DistrictFRANCONIA\nCitation  6.010004 7.558657 9.927126          -0.0666923         -1.475278\nWarning  -4.276199 9.096641 8.356495           0.1233499         -1.022930\n         DistrictHUNTER MILL DistrictMASON DistrictMOUNT VERNON\nCitation          -0.6712792     -1.629807           -1.3727811\nWarning           -0.5462693     -1.210128           -0.7197438\n         DistrictPROVIDENCE DistrictSPRINGFIELD DistrictSULLY\nCitation          -2.389145           0.3690253     0.1267567\nWarning           -2.237610           0.1084139    -0.1961090\n         DistrictUnverified EthnicityB EthnicityH EthnicityN EthnicityU\nCitation         -0.7239367   2.511770  -4.582736  -3.813774  -2.729531\nWarning          -1.6738146  -2.361734   3.525458   4.685802   5.843154\n\nStd. Errors:\n         (Intercept)      RaceB     RaceI     RaceU      RaceW    GenderM\nCitation  0.03690439 0.03664586 0.2797341 0.1046626 0.03631312 0.01796448\nWarning   0.04097933 0.04157964 0.2865267 0.1097935 0.04063792 0.02044004\n              GenderO   GenderU   GenderX DistrictDRANESVILLE DistrictFRANCONIA\nCitation 1.384588e-08 0.1736266 0.5231826          0.04893589        0.03673167\nWarning  1.161807e-09 0.1736270 0.5231557          0.05426427        0.04186914\n         DistrictHUNTER MILL DistrictMASON DistrictMOUNT VERNON\nCitation          0.04137716    0.03725741           0.04078278\nWarning           0.04710735    0.04304069           0.04551201\n         DistrictPROVIDENCE DistrictSPRINGFIELD DistrictSULLY\nCitation         0.03681733          0.04456369    0.03906339\nWarning          0.04385473          0.05022441    0.04459307\n         DistrictUnverified   EthnicityB EthnicityH EthnicityN EthnicityU\nCitation         0.07127717 9.699283e-08 0.02127470 0.01745390 0.03459567\nWarning          0.10481264 9.677125e-08 0.02480225 0.01935154 0.03690519\n\nResidual Deviance: 213967.8 \nAIC: 214055.8"
  },
  {
    "objectID": "midproj.html",
    "href": "midproj.html",
    "title": "Mid Project",
    "section": "",
    "text": "The following visualization I will be re-imagining is from an article on the effects of the 2018-2019 government shutdown. Within each of the federal departments, there is a contingency plan ready in case of a shutdown. Within this plan, there are some essential employees who must continue working through the shutdown with or without pay. The remaining employees who are deemed nonessential within the plan, are “furloughed’ and are told to go on unpaid leave until the shutdown is over. The following chart shows the furloughed rates at different departments (with scaling i’m assuming is according to the size of the department):\n\n\n\nThere are a number of issues with the following visualization:\n\nA lack of rhyme or reason with the random placement of the departments throughout the visualization; doesn’t seem to be an alphabetical, categorical, or value-based reasoning for the placement of the boxes.\nIt isn’t clearly indicated whether the boxes are scaled by the population or size of the department (I could only assume based on an earlier visualization containing the departments).\nThe color contrast between the two groups is too subtle.\nThe grid pattern within the boxes doesn’t add anything meaningful and distracts from the percentages.\nEach department’s different layout and area makes it difficult to compare them.\n\nOverall, this visualization is an overly complex design for a simple message."
  },
  {
    "objectID": "midproj.html#introduction",
    "href": "midproj.html#introduction",
    "title": "Mid Project",
    "section": "",
    "text": "The following visualization I will be re-imagining is from an article on the effects of the 2018-2019 government shutdown. Within each of the federal departments, there is a contingency plan ready in case of a shutdown. Within this plan, there are some essential employees who must continue working through the shutdown with or without pay. The remaining employees who are deemed nonessential within the plan, are “furloughed’ and are told to go on unpaid leave until the shutdown is over. The following chart shows the furloughed rates at different departments (with scaling i’m assuming is according to the size of the department):\n\n\n\nThere are a number of issues with the following visualization:\n\nA lack of rhyme or reason with the random placement of the departments throughout the visualization; doesn’t seem to be an alphabetical, categorical, or value-based reasoning for the placement of the boxes.\nIt isn’t clearly indicated whether the boxes are scaled by the population or size of the department (I could only assume based on an earlier visualization containing the departments).\nThe color contrast between the two groups is too subtle.\nThe grid pattern within the boxes doesn’t add anything meaningful and distracts from the percentages.\nEach department’s different layout and area makes it difficult to compare them.\n\nOverall, this visualization is an overly complex design for a simple message."
  },
  {
    "objectID": "midproj.html#redesign-1-bar-chart-of-furlough-percentage-rates-among-federal-departments",
    "href": "midproj.html#redesign-1-bar-chart-of-furlough-percentage-rates-among-federal-departments",
    "title": "Mid Project",
    "section": "Redesign 1: Bar Chart of Furlough Percentage Rates among Federal Departments",
    "text": "Redesign 1: Bar Chart of Furlough Percentage Rates among Federal Departments\nWhen previously mention the message was over-complexly represented by the original design, I was referring to the furlough rates. And for this reason, my first redesign of the visualization was a straightforward bar chart which depicts the furlough rates of each federal department:\n   \n\n\n\n\n\n\nThis chart shows that furloughs aren’t uniformly distributed across federal departments. The departments which were civil-service heavy or generally had non-essential functions, like the National Science foundation, environmental protection agency, and NASA, had the highest furlough rates (well above 70%). On the other hand, departments considered essential, like homeland security, department of justice, and the department of transportation, were least effected with the lowest furlough rates. This difference in priority shown within the visualization challenges the idea of almost all government jobs having high security."
  },
  {
    "objectID": "midproj.html#redesign-2-grouped-bar-chart-of-the-furloughed-and-still-working-employees-by-federal-department",
    "href": "midproj.html#redesign-2-grouped-bar-chart-of-the-furloughed-and-still-working-employees-by-federal-department",
    "title": "Mid Project",
    "section": "Redesign 2: Grouped Bar Chart of the Furloughed and Still-Working Employees by Federal Department",
    "text": "Redesign 2: Grouped Bar Chart of the Furloughed and Still-Working Employees by Federal Department\nFor the second visualization, I tried to include all the data that was shown within the original chart by including the working employee percentages as well. The values weren’t explicitly displayed in the originals, so I derived them using the given furloughed percentages when extracting the data.\n   \n\n\n\n\n\n\nIncluding the working employees percentage adds another scope of analysis for the furloughing situation. The perspective shifts from “how badly each department was effected” to a full department approach to the government shutdown. Though many employees from the non-essential departments were on furlough, they still maintained their status of hired until the shutdown ended and were not to work during this time. The prioritized departments like homeland security, justice, etc, were to continue their operations with or without pay until the shutdown ended. Seeing the high percentages of employees working through the shutdown offers a new perspective on the roles of certain government employees and their commitment during times of uncertainty."
  },
  {
    "objectID": "midproj.html#reference",
    "href": "midproj.html#reference",
    "title": "Mid Project",
    "section": "Reference",
    "text": "Reference\nZarracina, J., & Zhou, L. (2019, January 12). The astonishing effects of the shutdown, in 8 charts. Vox. https://www.vox.com/policy-and-politics/2019/1/11/18177101/government-shutdown-longest-workers-agencies-charts"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Home",
    "section": "",
    "text": "Hi, I’m Hiba!\n\n\nWelcome to my portfolio"
  },
  {
    "objectID": "finalproj.html#group-1",
    "href": "finalproj.html#group-1",
    "title": "Final Project",
    "section": "Group 1:",
    "text": "Group 1:\n\nHiba Awan\nNathania Stephens"
  },
  {
    "objectID": "finalproj.html#motivation-purpose",
    "href": "finalproj.html#motivation-purpose",
    "title": "Final Project",
    "section": "Motivation/ Purpose",
    "text": "Motivation/ Purpose\nIn 2023, there were over 30,000 arrests and close to 65,000 citations in Fairfax County. The Fairfax County boundaries, include areas such as Centreville, Chantilly, Herndon, Reston, Tysons Corner, McLean, Merrifield, George Mason, Annadale, Burke, Springfield, Alexandria, Lorton to name a few. If you live, work, or study in these areas then this project should be of interest to you. This project aims to inform Fairfax County patrons of crime information and hopefully provide some statistical insights that could be applicable."
  },
  {
    "objectID": "finalproj.html#goals-objectives",
    "href": "finalproj.html#goals-objectives",
    "title": "Final Project",
    "section": "Goals/ Objectives",
    "text": "Goals/ Objectives\nIn order to provide relevant and insightful crime information, several different visualization methods were applied to help easily interpret and compare data. Statistical learning techniques were utilized to help understand statistic significantly factors and associations between variables. Since the data utilized for this project is largely categorical the project focuses on techniques such as Chi-Squared Test, Logistic Regression, Decision Trees and Random Forest."
  },
  {
    "objectID": "finalproj.html#overview",
    "href": "finalproj.html#overview",
    "title": "Final Project",
    "section": "Overview",
    "text": "Overview"
  },
  {
    "objectID": "finalproj.html#about-the-data",
    "href": "finalproj.html#about-the-data",
    "title": "Final Project",
    "section": "About the Data",
    "text": "About the Data\nThree datasets were pulled from the Fairfax County Police Department website. They covered arrest, citations, and warnings in the year 2023. For simplicity, general definitions are provided:\n\nArrest - When a person is taken into custody to answer for an offense or when there is a deprivation or restraint of a person’s liberty in any significant way.\nCitation - Formal notice issued by law enforcement officer for a violation of law, typically related to traffic laws or other minor offenses. Typically requiring a violator to appear in court or pay a fine.\nWarning - When a violation, typically minor, has been made but an officer issues a warning rather than a citation.\n\nThe data sets included between 24 and 34 variables, but some of many of the variables were redundant or were not applicable to the research (e.g. web_address, phone_number, name). The following attributes were key to the research conducted:\n\n\n\n\n\n\n\n\nColumn Name\nData Type\nDescription\n\n\n\n\nDate\nDate\nDate of Violation\n\n\nTime\nChr\nTime of Violation\n\n\nOffense\nChr\nDescription of Violation\n\n\nGender\nChr\nGender of Violator\n\n\nEthnicity\nChr\nHispanic or Non-Hispanic\n\n\nDistrict\nChr\nAdministrative area\n\n\nLatitude\nDbl\nCoordinates measuring north/ south of equator\n\n\nLongitude\nDbl\nCoordinates measuring east/ west of prime meridian\n\n\nOutcome\nChr\nResult of violation, arrest, citation, or warning"
  },
  {
    "objectID": "finalproj.html#limitations-and-assumptions",
    "href": "finalproj.html#limitations-and-assumptions",
    "title": "Final Project",
    "section": "Limitations and Assumptions",
    "text": "Limitations and Assumptions\nDue to the nature of the data available on the Fairfax County Police Department website, analysis was limited to qualitative techniques. The approach taken for the project focused on predicting through qualitative responses or classification. This means that each record pulled from the Fairfax County Police Department (FCPD) would be assigned to a category or class.\nWhile understanding local crime is the goal of this project, the data acquired only accounts for crime that was recorded by FCPD. It does not take into account crimes that were not report or any other crime that was not reported through FCPD channels."
  },
  {
    "objectID": "finalproj.html#cleaning-and-transformation",
    "href": "finalproj.html#cleaning-and-transformation",
    "title": "Final Project",
    "section": "Cleaning and Transformation",
    "text": "Cleaning and Transformation\nTo address questions related to gender, the data needed to be standardized and correctly categorized. Column names needed to be consistent across the three datasets to merge. Gender was used over Sex. Next the column data would be transformed to consistent labels, e.g. Male, Female, and Other/Unknown. Total proportion for Gender was examined, to verify that other/ unknown class could be removed without…"
  },
  {
    "objectID": "finalproj.html#research-analysis",
    "href": "finalproj.html#research-analysis",
    "title": "Final Project",
    "section": "Research & Analysis",
    "text": "Research & Analysis\n\nQuestion 1: Is there an association between gender and warnings?\nTo address this question the null and alternative hypothesis are established.\nNull Hypothesis: There is no association between gender and violation outcome, warning or citation. This would mean that the likelihood of a violator getting a warning is independent of gender.\nAlternative Hypothesis: There is an association between gender and violation outcome. This implies that gender affects the outcome of whether a violator is given a citation or warning.\nAccording to the cleaned and combined dataset for warnings and citation, there was a total of 88,320 records. By looking at the counts for each outcome (citation or warning), there are a lot more citations than there are warnings given out by FCPD. This stacked bar chart also shows that males have a higher count for both categories.\n\n\n\n\n\n\n\n\n\nNext, the warning rate for gender is calculated. This looks at the probability of a male or female violator receiving a Warning instead of a citation e.g. getting out of a ticket. To calculate warning rate, the number of warnings are divided by the total number of incidents. \\[\n\\frac{\\text{Number of Warnings}}{\\text{Total Incidents (Warnings + Citations)}}\n\\]\nThis shows a slight difference in proportion between the two genders, with females having a higher warning rate than males. In other words, females received more warnings than males. Is this difference significant or is it a result of chance or other factors? To help understand these results, the Chi-Square Test of Independence is used. The Chi-Square Test of Independence will help determine whether the variables, gender and outcome, are independent or if there is a relationship between them.\n\n\n\n\n\n\n\n\n\n\\[\n\\chi^2 = \\sum \\frac{(O-E)^2}{E}\n\\] To implement the Chi-Square Test, a contingency table is generated, which shows the distribution for gender and outcome.\n\n\n\nGender\nCitations\nWarnings\n\n\n\n\nFemale\n20,478\n8,777\n\n\nMale\n43,657\n15,408\n\n\n\nThe results of the Chi-Square test shows:\n\nChi-Square Statistic (x-squared): The chi-square test statistic is 150.62. This is the discrepancy between the observed frequencies, citations and warnings, and the expected frequencies if there were no association between the gender and outcome. This is demonstrated in the below tables.\n\n\n\n\n\n\n\n\n\n\n\nGender\nExpected Citations\nObserved Citations\nExpected Warnings\nObserved Warnings\n\n\n\n\nFemale\n21,243\n20,478\n8,011\n8,777\n\n\nMale\n42,891\n43,657\n16,173\n15,408\n\n\n\n\nDegrees of Freedom (df): The degree of freedom for this test is 1, which is the number of rows minus 1 multiplied by number of columns minus 1.\np-value: The p-value is 2.2e-16 which is much smaller than 0.05. This represents the probability of observing the chi-square statistic, 150.62, or more if the null hypothesis were true.\n\nTo visualize each value in the above table by its contribution to the chi-square test a heatmap is generated. This quickly shows which values have the highest contribution percentage.\n\n\n\n\n\n\n\n\n\nThus the null hypothesis is rejected. The results show that there is a statistically significant association between gender and violation outcome in Fairfax County. In other words, the Chi-square test indicates that the likelihood of a violation outcome is significantly associated with gender.\n\n\nAnother Questions….\nTo address each of these question, first exploratory analysis should be done to gain an understanding and summary of the crime metrics for Fairfax County. This includes understanding what type of crimes occurred the most and where.\nGeneral crime Mapping the arrest data for a geospatial visual of where arrest occur.\n\n\n\n\n\n\nNext we look at the Top 10 Arrest Type by Incident Based Reporting (IBR) codes.\n\n\n\n\n\n\n\n\n\nNext examining the Top 10 Citations\nWarning Versus Citation Next an examination of warning versus citation will be observed… This will help understand what different factors could play into getting a warning or a citation.\n\n\nQuestion 2: How Does Time and Location Factor into the Odds of a Citations?\nFor this research question, variables such as time of day, progression of week, day of month, and district are examined to determine if those variable influence an officer’s decision to issue a warning or citation. For this question, arrests are excluded since it is assumed a higher threshold of danger is imminent and would allow for less use of officers’ discretion.\nFirst, to explore the likelihood of getting a citation versus a warning (outcome of a violation), the citation rate is calculated, using the following equation.\n\\[\n\\begin{align*}\nCitation Rate = \\frac{\\text{Number of Citations}}{\\text{Total Incidents (Warnings + Citations)}}\n\\end{align*}\n\\]\nThen, a heatmap is generated to see if there are any patterns that would indicate trends over hours of the day and throughout the month.\n\n\n\n\n\n\n\n\n\nThe higher intensity or darker color areas represent a higher citation rate. During the hours of 0500-0600 (24-hour clock) the citation rate is much higher across most days of the month. This would imply that officers are less likely to issue warnings between 5am and 6am. This time also aligns with morning rush hour and higher volumes of traffic are expected. However, the same pattern of higher citation rates are not observed during evening rush hour. The heatmap also does not show higher intensities during the end of the month. Which is what we would expect to see if officers were attempting to meet monthly ticket quotas at the end of the month.\nTo visualize citation and warnings geospatially, a map is generated using the latitude and longitude associated to each record. While this map is helpful for understanding concentrations of citations and warning. It is misleading in show the most dominate outcomes. This is likely due to the quantity of data points overlaid on one another; however, since it is interactive areas can be zoomed in on for further insight.\n\n\nReading layer `Supervisor_Districts' from data source \n  `/Users/hibaawan/Desktop/hiba/hma_website/Supervisor_Districts/Supervisor_Districts.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 9 features and 12 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 11757190 ymin: 6905421 xmax: 11899000 ymax: 7070364\nProjected CRS: NAD83 / Virginia North (ftUS)\n\n\n\n\n\n\n\n\nNext, through the use of Logistic Regression, the odds ratios is examined between citations and warnings for Fairfax county. Predictor variables, time of day, week progression, day of month, district are used to predict the probability that a warning or citation will occur. The results provide an odd ratios at the intercept of 0.532 which would indicate that the odds of getting a warning are less than 50/50. In other words, if pulled over for a traffic violation, it is not a flip of a coin whether you get a ticket or not. Your chance of getting a citation is higher according to the intercept generated through this logistic regression model. Additionally, the model showed factors that did increased the likelihood of getting a warning occurred in certain districts (Mount Vernon, Mason, and Franconia) and progression of the week influences leniency. In weekly progression, an odds ratio of 1.595 shows that as the week progresses from Monday to Sunday, the odds of recieving a warning increase by 59.5 %. Alternatively, factors such as time of day and day of the month showed an increased likelihood of a citation. Using the below graph, the top five odds ratio for citation and bottom five odds ratio for warnings are depicted.\nGender and race were originally included but removed to isolate only time and space variables. Additionally, after running both models, the Area Under the Curve (AUC) increased only slightly (+ 0.0004) after removal of race and gender. This would mean that while gender and race were statistically significant, they were not as strong of predictors as date/time and district when classifying an outcome of either citation or warning. The AUC for the model that focused date/time and district was 0.6289. Which means that 63% of the citation/warning outcome is predictable using day of the month, time of day, progression of week, and district. The other 37% of the outcome is due to other factors not captured in this model. These factors could include offense type, violator’s behavior, and officer variables. While not a particularly strong predictive model, the model helps understand the effects of time and location.\n\n\nQuestion 3: How do enforcement outcomes vary across districts and demographic groups?\nFinally, we’ll be exploring the relationships between the outcomes of crime incidents and their district and demographic (gender, race, ethnicity) variables. Addressing this final question involved combining the three data sets of different crime outcomes: arrest data, citation data, and warning data.\n\n\n\n\n\n\n\n\n\nStarting with the outcomes across different districts, we start off by performing a chi-square test to establish whether there’s a relationship between the crime outcomes and the districts they took place in.\nNull Hypothesis: Enforcement outcome is independent of police district.\nAlternative hypothesis: Enforcement outcome and police district are associated.\nFor the chi-square implementation, a contingency table for the district and outcome counts is generated:\n\n\n              \n               Arrest Citation Warning\n  BRADDOCK       1221     7647    2645\n  DRANESVILLE     881     5055    2088\n  FRANCONIA      6011     6534    3499\n  HUNTER MILL    2001     6244    2474\n  MASON          5833     5490    2678\n  MOUNT VERNON   3040     3662    2451\n  PROVIDENCE     9315     4772    1941\n  SPRINGFIELD    1176     9909    2672\n  SULLY          2300    14854    3758\n  Unverified      356     1127     154\n\n\nFrom both the visualization above and the table output, we can see that citations are the most common outcome among the districts. However, this won’t affect the test as chi-square allows unequal margin totals and, in this case, is testing the distribution of outcomes across districts. The other outcomes, arrests and warnings, vary substantially in volume across districts. Some districts (like Sully, Springfield, Providence) show particularly high citation counts, while others (Braddock, Dranesville) show lower overall enforcement volumes.\nThen the test is performed:\n\n\n\n    Pearson's Chi-squared test\n\ndata:  table(combined_data$District, combined_data$Outcome)\nX-squared = 20692, df = 18, p-value &lt; 2.2e-16\n\n\nThe chi-square statistic is extremely large, which indicates a substantial deviation between observed and expected counts. The p-value is also low enough that we reject the null hypothesis. This means enforcement outcomes (arrests, citations, and warnings) are not distributed uniformly across police districts. Therefore, there is a statistically significant association between district and enforcement outcome.\nFrom this, we can see that enforcement severity varies by district and district-level patterns justify further modeling.\n\n\n\n\n\n\n\n\n\nDoing some pre-analysis on race, ethnicity, and gender shows that exploring the distribution of enforcement outcomes across demographic variables is worth pursuing as well.\nIn order to test both the district and demographic variables affects, below we perform logistic regression:\n\n\n# weights:  69 (44 variable)\ninitial  value 133797.793412 \niter  10 value 110273.346261\niter  20 value 109828.994978\niter  30 value 108047.740898\niter  40 value 106985.637011\niter  50 value 106983.922418\nfinal  value 106983.911647 \nconverged\n\n\nThe results below are done with arrest as the reference outcome, so the coefficients are relative to the arrest outcome.\nRace: In terms of reference A (asian), Black individuals have lower odds of receiving a citation or warning vs arrest. Not to the same extent, but the same applies to white individuals as well.\nGender: In terms of reference F (female), males have lower odds of receiving a citations or warning vs arrest.\nEthnicity: Variable only really indicates hispanic or non-hispanic, so in terms of this, hispanic individuals have lower odds of receiving a citation or ticket vs arrest.\nDistrict: Mason, Providence, Franconia, Hunter Mill, and Sully individuals have a lower odds of receiving citations/warnings than arrests.\n\n\nCall:\nmultinom(formula = Outcome ~ Race + Gender + District + Ethnicity, \n    data = combined_data)\n\nCoefficients:\n         (Intercept)     RaceB    RaceI    RaceU      RaceW    GenderM\nCitation    6.446043 -1.270532 1.902943 2.020289 -0.1401901 -0.5121848\nWarning    -2.979146 -1.162020 1.981047 1.571784 -0.0923412 -0.6626383\n           GenderO  GenderU  GenderX DistrictDRANESVILLE DistrictFRANCONIA\nCitation  6.010004 7.558657 9.927126          -0.0666923         -1.475278\nWarning  -4.276199 9.096641 8.356495           0.1233499         -1.022930\n         DistrictHUNTER MILL DistrictMASON DistrictMOUNT VERNON\nCitation          -0.6712792     -1.629807           -1.3727811\nWarning           -0.5462693     -1.210128           -0.7197438\n         DistrictPROVIDENCE DistrictSPRINGFIELD DistrictSULLY\nCitation          -2.389145           0.3690253     0.1267567\nWarning           -2.237610           0.1084139    -0.1961090\n         DistrictUnverified EthnicityB EthnicityH EthnicityN EthnicityU\nCitation         -0.7239367   2.511770  -4.582736  -3.813774  -2.729531\nWarning          -1.6738146  -2.361734   3.525458   4.685802   5.843154\n\nStd. Errors:\n         (Intercept)      RaceB     RaceI     RaceU      RaceW    GenderM\nCitation  0.03690439 0.03664586 0.2797341 0.1046626 0.03631312 0.01796448\nWarning   0.04097933 0.04157964 0.2865267 0.1097935 0.04063792 0.02044004\n              GenderO   GenderU   GenderX DistrictDRANESVILLE DistrictFRANCONIA\nCitation 1.384588e-08 0.1736266 0.5231826          0.04893589        0.03673167\nWarning  1.161807e-09 0.1736270 0.5231557          0.05426427        0.04186914\n         DistrictHUNTER MILL DistrictMASON DistrictMOUNT VERNON\nCitation          0.04137716    0.03725741           0.04078278\nWarning           0.04710735    0.04304069           0.04551201\n         DistrictPROVIDENCE DistrictSPRINGFIELD DistrictSULLY\nCitation         0.03681733          0.04456369    0.03906339\nWarning          0.04385473          0.05022441    0.04459307\n         DistrictUnverified   EthnicityB EthnicityH EthnicityN EthnicityU\nCitation         0.07127717 9.699283e-08 0.02127470 0.01745390 0.03459567\nWarning          0.10481264 9.677125e-08 0.02480225 0.01935154 0.03690519\n\nResidual Deviance: 213967.8 \nAIC: 214055.8 \n\n\nPerforming multinomial logistic regression shows that enforcement outcomes vary systematically across both police districts and demographic groups. Certain districts, such as Providence and Sully, have higher relative odds of arrest compared to citations or warnings. Race and ethnicity are also significant predictors: Black and Hispanic individuals are more likely to be arrested rather than receive less severe enforcement actions. Gender has smaller but detectable effects. These results indicate that enforcement outcomes are influenced by both location and demographic characteristics."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "Hiba Awan\n\n\nAn aspiring data analyst who is currently pursuing a master’s in data analytics engineering at George Mason University.\nLinkedIn | GitHub\nEmail: hiba.m.awan@gmail.com\nPhone Number: 703-927-8854\nDownload my resume"
  },
  {
    "objectID": "midprojcode.html",
    "href": "midprojcode.html",
    "title": "Mid Project - Code",
    "section": "",
    "text": "library(plotly)\n\nLoading required package: ggplot2\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\n# Load data\ndata &lt;- read.csv(\"Federal_Furlough.csv\")\ndata &lt;- na.omit(data)\ndata &lt;- data[data$FED_DEP != \"FCC\", ]\n\n\n# Sort by furlough rate descending\ndata &lt;- data[order(data$FURLOUGHED_RATE, decreasing = FALSE), ]\n\n# Horizontal bar chart\nplot_ly(data,\n        y = ~factor(FED_DEP, levels = data$FED_DEP),\n        x = ~FURLOUGHED_RATE,\n        type = 'bar',\n        orientation = 'h',\n        marker = list(color = \"#0072B2\")) %&gt;%\n  layout(title = 'Furlough Rates by Federal Department',\n         xaxis = list(title = 'Percentage of Employees Furloughed'),\n         yaxis = list(title = list(text = 'Federal Departments',\n                                   standoff = 20)),\n         margin = list(l = 200))"
  },
  {
    "objectID": "midprojcode.html#redesign-1-code",
    "href": "midprojcode.html#redesign-1-code",
    "title": "Mid Project - Code",
    "section": "",
    "text": "library(plotly)\n\nLoading required package: ggplot2\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\n# Load data\ndata &lt;- read.csv(\"Federal_Furlough.csv\")\ndata &lt;- na.omit(data)\ndata &lt;- data[data$FED_DEP != \"FCC\", ]\n\n\n# Sort by furlough rate descending\ndata &lt;- data[order(data$FURLOUGHED_RATE, decreasing = FALSE), ]\n\n# Horizontal bar chart\nplot_ly(data,\n        y = ~factor(FED_DEP, levels = data$FED_DEP),\n        x = ~FURLOUGHED_RATE,\n        type = 'bar',\n        orientation = 'h',\n        marker = list(color = \"#0072B2\")) %&gt;%\n  layout(title = 'Furlough Rates by Federal Department',\n         xaxis = list(title = 'Percentage of Employees Furloughed'),\n         yaxis = list(title = list(text = 'Federal Departments',\n                                   standoff = 20)),\n         margin = list(l = 200))"
  },
  {
    "objectID": "midprojcode.html#redesign-2-code",
    "href": "midprojcode.html#redesign-2-code",
    "title": "Mid Project - Code",
    "section": "Redesign 2 Code:",
    "text": "Redesign 2 Code:\n\n# Reorder departments by furlough rate (descending)\ndata &lt;- data[order(data$FURLOUGHED_RATE, decreasing = TRUE), ]\n\n# Create horizontal stacked bar chart\nplot_ly(data, y = ~FED_DEP, x = ~FURLOUGHED_RATE, type = 'bar', orientation = 'h',\n        name = 'Furloughed', marker = list(color = '#0072B2')) %&gt;%\n  add_trace(x = ~WORKING_RATE, name = 'Working with or without pay', orientation = 'h',\n            marker = list(color = '#D55E00')) %&gt;%\n  plotly::layout(\n    barmode = 'stack',\n    xaxis = list(\n      title = list(text = 'Percentage of Employees', standoff = 10)  # extra spacing\n    ),\n    yaxis = list(\n      title = list(text = 'Federal Departments', standoff = 20),\n      categoryorder = 'total ascending'\n    ),\n    legend = list(\n      title = list(text = \"Employee Status\"),\n      orientation = 'h',\n      x = 0.3, \n      y = -0.2\n    ),\n    title = 'Furloughed vs. Working Employees by Federal Department')"
  }
]